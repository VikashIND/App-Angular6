<p-toast [style]="{ marginTop: '80px' }"></p-toast>

<form [formGroup]="userform" (ngSubmit)="onSubmit(userform.value)">
  <p-panel header="Create New User">
    <div
      class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid"
      style="margin: 10px 0px"
    >
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">First Name *:</div>
        <div class="ui-grid-col-6">
          <input
            pInputText
            type="text"
            formControlName="firstName"
            placeholder="Required"
          />
        </div>
        <div class="ui-grid-col-4">
          <p-message
            severity="error"
            text="firstName is required"
            *ngIf="
              !userform.controls['firstName'].valid &&
              userform.controls['firstName'].dirty
            "
          ></p-message>
        </div>
      </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">Middle Name *:</div>
        <div class="ui-grid-col-6">
          <input
            pInputText
            type="text"
            formControlName="middleName"
            placeholder="Required"
          />
        </div>
        <div class="ui-grid-col-4">
          <p-message
            severity="error"
            text="middleName is required"
            *ngIf="
              !userform.controls['middleName'].valid &&
              userform.controls['middleName'].dirty
            "
          ></p-message>
        </div>
      </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">Last Name *:</div>
        <div class="ui-grid-col-6">
          <input
            pInputText
            type="text"
            formControlName="lastName"
            placeholder="Required"
          />
        </div>
        <div class="ui-grid-col-4">
          <p-message
            severity="error"
            text="lastName is required"
            *ngIf="
              !userform.controls['lastName'].valid &&
              userform.controls['lastName'].dirty
            "
          ></p-message>
        </div>
      </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">User Name *:</div>
        <div class="ui-grid-col-6">
          <input
            pInputText
            type="userName"
            formControlName="userName"
            placeholder="Required - Min(6)"
          />
        </div>
        <div class="ui-grid-col-4">
          <p-message
            severity="error"
            [text]="
              userform.controls['userName'].errors['required']
                ? 'userName is required'
                : userform.controls['userName'].errors['minlength']
                ? 'Must be longer than 6 characters'
                : ''
            "
            *ngIf="
              !userform.controls['userName'].valid &&
              userform.controls['userName'].dirty
            "
          ></p-message>
        </div>
      </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">Password *:</div>
        <div class="ui-grid-col-6">
          <input
            pInputText
            type="password"
            formControlName="password"
            placeholder="Required - Min(6)"
          />
        </div>
        <div class="ui-grid-col-4">
          <p-message
            severity="error"
            [text]="
              userform.controls['password'].errors['required']
                ? 'Password is required'
                : userform.controls['password'].errors['minlength']
                ? 'Must be longer than 6 characters'
                : ''
            "
            *ngIf="
              !userform.controls['password'].valid &&
              userform.controls['password'].dirty
            "
          ></p-message>
        </div>
      </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">Description:</div>
        <div class="ui-grid-col-6">
          <textarea
            pInputTextarea
            type="text"
            formControlName="description"
          ></textarea>
        </div>
        <div class="ui-grid-col-4"></div>
      </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">Gender *:</div>
        <div class="ui-grid-col-6">
          <p-dropdown
            [options]="genders"
            formControlName="gender"
            [autoWidth]="false"
          ></p-dropdown>
        </div>
        <div class="ui-grid-col-4">
          <p-message
            severity="error"
            text="Gender is required"
            *ngIf="
              !userform.controls['gender'].valid &&
              userform.controls['gender'].dirty
            "
          ></p-message>
        </div>
      </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-2"></div>
        <div class="ui-grid-col-6">
          <button pButton type="submit" label="Submit"></button>
        </div>
        <div class="ui-grid-col-4"></div>
      </div>
      <div style="text-align:center;margin-top:20px" *ngIf="submitted">
        Form Submitted <br />
        {{ diagnostic }}
      </div>
    </div>
  </p-panel>
</form>
